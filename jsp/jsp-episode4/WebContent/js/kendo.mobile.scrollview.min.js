/*
* Kendo UI Beta v2012.3.1322 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.application.min"],function(){(function(e){var n=window.kendo,i=n.mobile,t=i.ui,o=e.proxy,a=n.fx.Transition,s=n.ui.Pane,r=n.ui.PaneDimensions,l=t.Widget,d=Math,c=d.abs,h=d.ceil,p=d.round,m=d.max,u=d.min,g=d.floor,f="change",v="km-current-page",w=l.extend({init:function(i,t){var d,h,p,m,u,g,v=this;l.fn.init.call(v,i,t),i=v.element,i.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),v.inner=i.children().first(),v.pager=i.children().last(),v.page=0,v.inner.css("height",v.options.contentHeight),v.container().bind("show",e.proxy(this,"viewShow")),d=new n.ui.Movable(v.inner),h=new a({axis:"x",movable:d,onEnd:o(v._transitionEnd,v)}),p=new n.UserEvents(i,{start:function(e){2*c(e.x.velocity)>=c(e.y.velocity)?p.capture():p.cancel(),h.cancel()},allowSelection:!0,end:o(v._dragEnd,v)}),m=new r({element:v.inner,container:v.element}),u=m.x,u.bind(f,o(v.refresh,v)),g=new s({dimensions:m,userEvents:p,movable:d,elastic:!0}),e.extend(v,{movable:d,transition:h,userEvents:p,dimensions:m,dimension:u,pane:g}),v.page=v.options.page},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,contentHeight:"auto",bounceVelocityThreshold:1.6},events:[f],destroy:function(){l.fn.destroy.call(this),this.userEvents.destroy(),n.destroy(this.element)},viewShow:function(){this.dimensions.refresh()},refresh:function(){var e,n,i=this,t="",o=i.dimension,a=o.getSize(),s=i.element.find("[data-role=page]");for(s.width(a),o.update(!0),s[0]||(i.page=Math.floor(-i.movable.x/a),i.scrollTo(i.page)),e=i.pages=h(o.getTotal()/a),i.minSnap=-(e-1)*a,i.maxSnap=0,n=0;e>n;n++)t+="<li/>";i.pager.html(t),i._updatePager()},content:function(e){this.element.children().first().html(e),this.dimensions.refresh()},scrollTo:function(e){this.page=e,this._moveTo(-e*this.dimension.getSize(),a.easeOutExpo)},_moveTo:function(e,n){this.transition.moveTo({location:e,duration:this.options.duration,ease:n})},_dragEnd:function(e){var n,i=this,t=e.x.velocity,o=i.dimension.size,s=i.options,r=s.velocityThreshold,l=p,d=a.easeOutExpo;t>r?l=h:-r>t&&(l=g),c(t)>s.bounceVelocityThreshold&&(d=a.easeOutBack),n=m(i.minSnap,u(l(i.movable.x/o)*o,i.maxSnap)),this._moveTo(n,d)},_transitionEnd:function(){var e=this,n=Math.round(-e.movable.x/e.dimension.size);n!=e.page&&(e.page=n,e.trigger(f,{page:n}),e._updatePager())},_updatePager:function(){this.pager.children().removeClass(v).eq(this.page).addClass(v)}});t.plugin(w)})(window.kendo.jQuery)});