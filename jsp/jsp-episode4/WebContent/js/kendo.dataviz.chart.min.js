/*
* Kendo UI Beta v2012.3.1322 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.data.min","./kendo.userevents.min","./kendo.dataviz-core.min","./kendo.dataviz-svg.min"],function(){(function(e,t){function n(e,t){function n(e,t,n){var i,o=typeof t;return i=o===Ti?bt[t](e):"function"===o?t(e,n):bt.max(e)}function i(e,t,i){var o,a,r,s=C(i.type),l=s.length,c=e.length,h=[],u=[];for(o=0;l>o;o++){for(r=s[o],a=0;c>a;a++)u.push(e[a][r]);h.push(n(u,t[r],i)),u=[]}return h}var o,a=t.aggregate;return o="object"==typeof a?i(e,a,t):n(e,a,t)}function i(e){return a(e).min}function o(e){return a(e).max}function a(e){var n,i,o=oi,a=ai,r=e.length;for(n=0;r>n;n++)i=e[n],null!==i&&isFinite(i)&&(o=Pt.min(o,i),a=Pt.max(a,i));return{min:o===oi?t:o,max:a===ai?t:a}}function r(e,t,n,i){var o,a,r=(i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x),s=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);return 0!==s&&(a=r/s,o=new qt(e.x+a*(t.x-e.x),e.y+a*(t.y-e.y))),o}function s(e,t){var n,i,o=e.series,a=o.length,r=e.seriesDefaults,s=zt({},e.seriesDefaults),c=t?zt({},t.seriesDefaults):{},h=zt({},c);for(l(s),l(h),n=0;a>n;n++)i=o[n].type||e.seriesDefaults.type,o[n]=zt({},h,c[i],{tooltip:e.tooltip},s,r[i],o[n])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc}function c(e){var t,n=e.series,i=n.length,o=e.seriesColors||[];for(t=0;i>t;t++)n[t].color=n[t].color||o[t%o.length]}function h(e){var t;kt([Cn,Fi,Gi,qi],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function u(t,n){var i=(n||{}).axisDefaults||{};kt([Cn,Fi,Gi,qi],function(){var n=this+"Axis",o=[].concat(t[n]),a=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color;return zt({},i,i[n],a,a[n],{line:{color:t},labels:{color:t},title:{color:t}},e)}),t[n]=o.length>1?o:o[0]})}function d(e,t,n){e[t]=(e[t]||0)+n}function p(e){var t,n=e.length,i=0;for(t=0;n>t;t++)i=Pt.max(i,e[t].data.length);return i}function g(e){return e*e}function f(e,t){if(null===t)return null;var n=f.cache[e]=f.cache[e]||Ot(e,!0);return n(t)}function x(e){var t,n,i;if(e instanceof Date)t=e;else if(typeof e===Ti)n=zn.exec(e),t=new Date(n?parseInt(n[1],10):e);else if(e)if(e.length)for(t=[],i=0;e.length>i;i++)t.push(x(e[i]));else t=new Date(e);return t}function m(e){return _t(e)?Ct(e,m):e?x(e).getTime():t}function v(e,t,n,i){if(!e)return e;if(e=x(e),n===Ki)return new Date(e.getFullYear()+t,0,1);if(n===si)return new Date(e.getFullYear(),e.getMonth()+t,1);if(n===Xi){var o=y(e,i);return v(o,7*t,On)}return n===On?new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):n===Qn?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t):n===ri?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t):e}function y(e,t){var n=e.getDay(),i=0;for(t=t||0;n!==t;)0===n?n=6:n--,i++;return k(e,-i*Vi)}function w(e,t,n){return e=x(e),v(e,0,t,n)}function b(e,t,n){return e=x(e),w(e,t,n).getTime()===e.getTime()?e:v(e,1,t,n)}function A(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-i*Ii}function k(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),o=i.getTimezoneOffset()-n;return new Date(i.getTime()+o*Ii)}function _(e,t,n){var i;return i=n===Ki?t.getFullYear()-e.getFullYear():n===si?12*_(e,t,Ki)+t.getMonth()-e.getMonth():n===On?Pt.floor(A(t,e)/Vi):Pt.floor((t-e)/Ei[n])}function C(e){var t=[Fi];return rn(e,[_n,di])?t=["open","high","low","close"]:rn(e,to)&&(t=[Gi,qi],e===kn&&t.push("size")),t}function P(e,t,n){var i,o,a,r,s=e.data[t],l={},c=C(e.type),h={value:s};return on(s)?_t(s)?(i=s.slice(c.length),r=S(s,c),l=S(i,n)):"object"==typeof s&&(o=I(e,c),a=I(e,n),r=T(s,c,o),l=T(s,n,a)):r=T({},c),on(r)&&(1===c.length&&(r=r[c[0]]),h.value=r),h.fields=l,h}function S(e,t){var n,i,o={};if(t)for(i=Pt.min(t.length,e.length),n=0;i>n;n++)o[t[n]]=e[n];return o}function T(e,t,n){var i,o,a,r,s={};if(t)for(o=t.length,n=n||t,i=0;o>i;i++)a=t[i],r=n[i],s[a]=f(r,e);return s}function I(e,t){var n,i,o,a,r;if(t)for(i=t.length,a=[],n=0;i>n;n++)o=t[n],r=o===Fi?"field":o+"Field",a.push(e[r]||o);return a}function D(e){return 1===e.length?e[0]:e}function V(e,t,n){return Pt.max(Pt.min(e,n),t)}function B(e){var t,n,i=new Ft,o=e.length;if(o>0)for(t=0;o>t;t++)n=e[t],0===t?i=n.box.clone():i.wrap(n.box);return i}function R(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function L(e,t){return e&&t?m(e)===m(t):e===t}function E(e){for(var t,n=e.length;n--;)if(t=e[n],on(t)&&null!==t)return t}function z(e,t){null!==t&&e.push(t)}function O(e,t){for(var n,i,o=0,a=e.length-1;a>=o;)if(n=Pt.floor((o+a)/2),i=e[n],t>i)o=n+1;else{if(!(i>t))return n;a=n-1}return t>=e[n]?n:n-1}function U(e){var t,n,i=!0,o=e.length;for(t=0;o>t;t++)if(n=e[t],"number"!=typeof n||isNaN(n)){i=!1;break}return i}function H(e){var t,n,i,o={};for(t=0;e.length>t;t++)n=e[t],i=n.options.name,i&&(o[i]=n.range());return o}var M,N,F,Y,W,X,j,G,q,K,Q,$,J,Z,et,tt,nt,it,ot,at,rt,st,lt,ct,ht,ut,dt,pt,gt,ft,xt,mt,vt,yt,wt,bt,At,kt=e.each,_t=e.isArray,Ct=e.map,Pt=Math,St=e.extend,Tt=e.proxy,It=document,Dt=window.kendo,Vt=Dt.Class,Bt=Dt.Observable,Rt=Dt.data.DataSource,Lt=Dt.ui.Widget,Et=Dt.template,zt=Dt.deepExtend,Ot=Dt.getter,Ut=Dt.dataviz,Ht=Ut.Axis,Mt=Ut.AxisLabel,Nt=Ut.BarAnimation,Ft=Ut.Box2D,Yt=Ut.BoxElement,Wt=Ut.ChartElement,Xt=Ut.Color,jt=Ut.ElementAnimation,Gt=Ut.NumericAxis,qt=Ut.Point2D,Kt=Ut.RootElement,Qt=Ut.Ring,$t=Ut.Text,Jt=Ut.TextBox,Zt=Ut.Title,en=Ut.animationDecorator,tn=Ut.append,nn=Ut.autoFormat,on=Ut.defined,an=Ut.getSpacing,rn=Ut.inArray,sn=Ut.interpolateValue,ln=Ut.last,cn=Ut.round,hn=Ut.renderTemplate,un=Ut.uniqueId,dn=".kendoChart",pn="above",gn="area",fn="auto",xn="fit",mn=Ut.AXIS_LABEL_CLICK,vn="bar",yn=.8,wn="below",bn="#000",An="bottom",kn="bubble",_n="candlestick",Cn="category",Pn="center",Sn="change",Tn="circle",In="click"+dn,Dn=Ut.CLIP,Vn="column",Bn=Ut.COORD_PRECISION,Rn="k-",Ln="dataBound",En="date",zn=/^\/Date\((.*?)\)\/$/,On="days",Un=Ut.DEFAULT_FONT,Hn=Ut.DEFAULT_HEIGHT,Mn=Ut.DEFAULT_PRECISION,Nn=Ut.DEFAULT_WIDTH,Fn=Pt.PI/180,Yn="donut",Wn=50,Xn="drag",jn="dragEnd",Gn="dragStart",qn="fadeIn",Kn="glass",Qn="hours",$n=Ut.INITIAL_ANIMATION_DURATION,Jn="insideBase",Zn="insideEnd",ei="interpolate",ti="left",ni="line",ii=8,oi=Number.MAX_VALUE,ai=-Number.MAX_VALUE,ri="minutes",si="months",li="mousemove.tracking",ci="mouseover"+dn,hi=150,ui="DOMMouseScroll"+dn+" mousewheel"+dn,di="ohlc",pi="outsideEnd",gi="_outline",fi="pie",xi=70,mi="plotAreaClick",vi="right",yi="roundedBevel",wi="roundedGlass",bi="scatter",Ai="scatterLine",ki="selectStart",_i="select",Ci="selectEnd",Pi="seriesClick",Si="seriesHover",Ti="string",Ii=6e4,Di=60*Ii,Vi=24*Di,Bi=7*Vi,Ri=31*Vi,Li=365*Vi,Ei={years:Li,months:Ri,weeks:Bi,days:Vi,hours:Di,minutes:Ii},zi="top",Oi=150,Ui=5,Hi=100,Mi="touchstart"+dn,Ni="triangle",Fi="value",Yi="verticalArea",Wi="verticalLine",Xi="weeks",ji="#fff",Gi="x",qi="y",Ki="years",Qi="zero",$i="zoomStart",Ji="zoom",Zi="zoomEnd",eo=[vn,Vn,ni,Wi,gn,Yi,_n,di],to=[bi,Ai,kn],no=[ri,Qn,On,Xi,si,Ki],io={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},oo=Lt.extend({init:function(e,t){var n,i,o,a,r=this,s=Ut.ui.themes||{};Lt.fn.init.call(r,e),n=zt({},r.options,t),r.element.addClass("k-chart").css("position","relative"),r._originalOptions=zt({},n),a=n.theme,o=s[a]||s[a.toLowerCase()],i=a&&o?o.chart:{},h(n),r._applyDefaults(n,i),r.options=zt({},i,n),c(r.options),r.bind(r.events,r.options),r.wrapper=r.element,r._initDataSource(t),Dt.notify(r,Ut.ui)},_initDataSource:function(e){var t=this,n=(e||{}).dataSource;t._dataChangeHandler=Tt(t._onDataChanged,t),t.dataSource=Rt.create(n).bind(Sn,t._dataChangeHandler),t._redraw(),t._attachEvents(),n&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Sn,t._dataChangeHandler),t.dataSource=e,e.bind(Sn,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Ln,Pi,Si,mn,mi,Gn,Xn,jn,$i,Ji,Zi,ki,_i,Ci],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Vn,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),delete e._sourceSeries,e._onDataChanged()},redraw:function(e){var t,n,i=this;i._applyDefaults(i.options),e?(n=i._model._plotArea,t=n.findPane(e),n.redraw(t)):i._redraw()},_redraw:function(){var e,t=this,n=t.options,i=t.element,o=t._model=t._getModel(),a=Ut.ui.defaultView();t._plotArea=o._plotArea,a&&(e=t._view=a.fromModel(o),t._viewElement=e.renderTo(i[0]),t._tooltip=new Ut.Tooltip(i,n.tooltip),t._highlight=new yt(e,t._viewElement))},svg:function(){var e=this._getModel(),t=Ut.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){u(e,t),s(e,t)},_getModel:function(){var e,t=this,n=t.options,i=t.element,o=new Kt(zt({width:i.width()||Nn,height:i.height()||Hn,transitions:n.transitions},n.chartArea));return Zt.buildTitle(n.title,o),e=o._plotArea=t._createPlotArea(),n.legend.visible&&o.append(new ro(e.options.legend)),o.append(e),o.reflow(),o},_createPlotArea:function(){var e,t,n,i=this,o=i.options,a=o.series,r=a.length,s=[],l=[],c=[],h=[];for(e=0;r>e;e++)t=a[e],rn(t.type,eo)?s.push(t):rn(t.type,to)?l.push(t):t.type===fi?c.push(t):t.type===Yn&&h.push(t);return n=c.length>0?new dt(c,o):h.length>0?new pt(h,o):l.length>0?new ut(l,o):new ct(s,o)},_attachEvents:function(){var e=this,t=e.element;t.on(In,Tt(e._click,e)),t.on(ci,Tt(e._mouseover,e)),t.on(ui,Tt(e._mousewheel,e)),t.on(Mi,Tt(e._tap,e)),Dt.UserEvents&&(e._userEvents=new Dt.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:Tt(e._start,e),move:Tt(e._move,e),end:Tt(e._end,e)}))},_start:function(e){var t=this,n=t._events;on(n[Gn]||n[Xn]||n[jn])&&t._startNavigation(e,Gn)},_move:function(e){var t,n,i,o,a,r,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,n=0;t.length>n;n++)i=t[n],o=i.options.name,o&&(a=i.options.vertical?e.y:e.x,r=a.startLocation-a.location,0!==r&&(c[i.options.name]=i.translateRange(r)));l.axisRanges=c,s.trigger(Xn,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,jn)},_mousewheel:function(e){var t,n,i,o,a,r,s=this,l=e.originalEvent,c=0,h=s._navState,u={};if(l.wheelDelta&&(c=-l.wheelDelta/120,c=c>0?Pt.ceil(c):Pt.floor(c)),l.detail&&(c=cn(l.detail/3)),h||(t=s._startNavigation(l,$i),t||(h=s._navState)),h){for(n=h.totalDelta||c,h.totalDelta=n+c,i=s._navState.axes,o=0;i.length>o;o++)a=i[o],r=a.options.name,r&&(u[r]=a.scaleRange(n));s.trigger(Ji,{delta:c,axisRanges:u,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,Zi)},hi)}},_startNavigation:function(e,t){var n,i,o,a=this,r=a._eventCoordinates(e),s=a._model._plotArea,l=s.findPointPane(r),c=s.axes.slice(0),h=!1;if(l){for(n=0;c.length>n;n++)if(i=c[n],i.box.containsPoint(r)){h=!0;break}!h&&s.backgroundBox().containsPoint(r)&&(o=a.trigger(t,{axisRanges:H(c),originalEvent:e}),o?a._userEvents.cancel():(a._suppressHover=!0,a._unsetActivePoint(),a._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(t){var n,i=this,o=e(t.target).data("modelId"),a=i._model;return o&&(n=a.modelMap[o]),n&&n.aliasFor&&(n=n.aliasFor(t,i._eventCoordinates(t))),n},_eventCoordinates:function(e){var t=this,n=on((e.x||{}).client),i=n?e.x.client:e.clientX,o=n?e.y.client:e.clientY;return t._toModelCoordinates(i,o)},_toModelCoordinates:function(t,n){var i=this.element,o=i.offset(),a=parseInt(i.css("paddingLeft"),10),r=parseInt(i.css("paddingTop"),10),s=e(window);return{x:t-o.left-a+s.scrollLeft(),y:n-o.top-r+s.scrollTop()}},_click:function(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_startHover:function(e){var n,i,o=this,a=o._tooltip,r=o._highlight;if(!o._suppressHover&&r&&r.overlayElement!==e.target)return i=o._getChartElement(e),i&&i.hover?(i.hover(o,e),o._activePoint=i,n=zt({},o.options.tooltip,i.options.tooltip),n.visible&&a.show(i),r.show(i),!0):t},_mouseover:function(t){var n=this;n._startHover(t)&&e(It.body).on(li,Tt(n._mouseMove,n))},_mouseMove:function(t){var n,i,o,a=this,r=a._tooltip,s=a._highlight,l=a._eventCoordinates(t),c=a._activePoint;a._plotArea.box.containsPoint(l)?c&&c.series&&(c.series.type===ni||c.series.type===gn)&&(i=c.parent,o=i.getNearestPoint(l.x,l.y,c.seriesIx),o&&o!=c&&(o.hover(a,t),a._activePoint=o,n=zt({},a.options.tooltip,c.options.tooltip),n.visible&&r.show(o),s.show(o))):(e(It.body).off(li),a._unsetActivePoint())},_unsetActivePoint:function(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChanged:function(){var e,t,n=this,i=n.options,o=n._sourceSeries||i.series,a=o.length,r=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,l=s?r[0].items:r,h=[];for(e=0;a>e;e++)t=o[e],n.isBindable(t)?(t.autoBind!==!1&&(t.data=r),tn(h,s?n._createGroupedSeries(t,r):[t])):h.push(t);n._sourceSeries=o,i.series=h,c(n.options),n._bindCategories(l),n.trigger(Ln),n._redraw()},_bindCategories:function(e){var t,n,i=this,o=i.options,a=[].concat(o.categoryAxis);for(t=0;a.length>t;t++)n=a[t],n.autoBind!==!1&&i._bindCategoryAxis(n,e)},_bindCategoryAxis:function(e,t){var n,i,o;if(e.field)for(e.categories=[],n=0;t.length>n;n++)o=t[n],i=f(e.field,o),0===n?(e.categories=[i],e.dataItems=[o]):(e.categories.push(i),e.dataItems.push(o))},isBindable:function(e){var t,n,i=C(e.type),o=!0;for(n=0;i.length>n;n++)if(t=i[n],t===Fi?t="field":t+="Field",!e[t]){o=!1;break}return o},_createGroupedSeries:function(e,n){var i,o,a,r,s=[],l=n.length;for(e.groupNameTemplate&&(i=Et(e.groupNameTemplate)),a=0;l>a;a++)r=zt({},e),r.color=t,s.push(r),o=n[a],r.data=o.items,i&&(r.name=i({series:r,group:o}));return s},_tap:function(e){var t=this;t._startHover(e)||t._unsetActivePoint(),t._click(e)},destroy:function(){var e=this,t=e.dataSource;e.element.off(dn),t.unbind(Sn,e._dataChangeHandler),e._userEvents&&e._userEvents.destroy(),Lt.fn.destroy.call(e)}}),ao=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.append(new Jt(e,n.options))},options:{position:pi,margin:an(3),padding:an(4),color:bn,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:qn,delay:$n},zIndex:1},reflow:function(e){var t=this,n=t.options,i=n.vertical,o=n.aboveAxis,a=t.children[0],r=a.box,s=a.options.padding;a.options.align=i?Pn:ti,a.options.vAlign=i?zi:Pn,n.position==Zn?i?(a.options.vAlign=zi,!o&&r.height()<e.height()&&(a.options.vAlign=An)):a.options.align=o?vi:ti:n.position==Pn?(a.options.vAlign=Pn,a.options.align=Pn):n.position==Jn?i?a.options.vAlign=o?An:zi:a.options.align=o?ti:vi:n.position==pi&&(i?e=o?new Ft(e.x1,e.y1-r.height(),e.x2,e.y1):new Ft(e.x1,e.y2,e.x2,e.y2+r.height()):(a.options.align=Pn,e=o?new Ft(e.x2+r.width(),e.y1,e.x2,e.y2):new Ft(e.x1-r.width(),e.y1,e.x1,e.y2))),i?s.left=s.right=(e.width()-a.contentBox.width())/2:s.top=s.bottom=(e.height()-a.contentBox.height())/2,a.reflow(e)}}),ro=Wt.extend({init:function(e){var t=this;Wt.fn.init.call(t,e),t.createLabels()},options:{position:vi,items:[],labels:{},offsetX:0,offsetY:0,margin:an(10),padding:an(5),border:{color:bn,width:0},background:"",zIndex:1},createLabels:function(){var e,t,n,i=this,o=i.options.items,a=o.length;for(n=0;a>n;n++)t=o[n].name,e=new $t(t,i.options.labels),i.append(e)},reflow:function(e){var n=this,i=n.options,o=n.children.length;return 0===o?(n.box=e.clone(),t):"custom"==i.position?(n.customLayout(e),t):(i.position==zi||i.position==An?n.horizontalLayout(e):n.verticalLayout(e),t)},getViewElements:function(e){var t,n,i,o,a,r,s,l=this,c=l.children,h=l.options,u=h.items,d=u.length,p=l.markerSize(),g=e.createGroup({zIndex:h.zIndex}),f=h.border||{};for(tn(g.children,Wt.fn.getViewElements.call(l,e)),s=0;d>s;s++)o=u[s].color,a=c[s],n=new Ft,r=a.box,i=i?i.wrap(r):r.clone(),n.x1=r.x1-2*p,n.x2=n.x1+p,n.y1=h.position==zi||h.position==An?r.y1+p/2:r.y1+(r.height()-p)/2,n.y2=n.y1+p,g.children.push(e.createRect(n,{fill:o,stroke:o}));return c.length>0&&(t=an(h.padding),t.left+=2*p,i.pad(t),g.children.unshift(e.createRect(i,{stroke:f.width?f.color:"",strokeWidth:f.width,dashType:f.dashType,fill:h.background}))),[g]},verticalLayout:function(e){var t,n,i,o,a,r=this,s=r.options,l=r.children,c=l.length,h=l[0].box.clone(),u=an(s.margin),d=2*r.markerSize();for(o=1;c>o;o++)i=r.children[o],i.box.alignTo(r.children[o-1].box,An),h.wrap(i.box);s.position==ti?(t=e.x1+d+u.left,n=(e.y2-h.height())/2,h.x2+=d+u.left+u.right):(t=e.x2-h.width()-u.right,n=(e.y2-h.height())/2,h.translate(t,n),h.x1-=d+u.left),r.translateChildren(t+s.offsetX,n+s.offsetY),a=h.width(),h.x1=Pt.max(e.x1,h.x1),h.x2=h.x1+a,h.y1=e.y1,h.y2=e.y2,r.box=h},horizontalLayout:function(e){var t,n,i,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=3*a.markerSize(),u=an(r.margin),d=s[0].box.width()+h,p=e.width(),g=0;for(o=1;l>o;o++)i=s[o],d+=i.box.width()+h,d>p-h?(i.box=new Ft(c.x1,c.y2,c.x1+i.box.width(),c.y2+i.box.height()),d=i.box.width()+h,g=i.box.y1):(i.box.alignTo(s[o-1].box,vi),i.box.y2=g+i.box.height(),i.box.y1=g,i.box.translate(h,0)),c.wrap(i.box);t=(e.width()-c.width()+h)/2,r.position===zi?(n=e.y1+u.top,c.y2=e.y1+c.height()+u.top+u.bottom,c.y1=e.y1):(n=e.y2-c.height()-u.bottom,c.y1=e.y2-c.height()-u.top-u.bottom,c.y2=e.y2),a.translateChildren(t+r.offsetX,n+r.offsetY),c.x1=e.x1,c.x2=e.x2,a.box=c},customLayout:function(e){var t,n=this,i=n.options,o=n.children,a=o.length,r=o[0].box.clone(),s=2*n.markerSize();for(t=1;a>t;t++)r=n.children[t].box,r.alignTo(n.children[t-1].box,An),r.wrap(r);n.translateChildren(i.offsetX+s,i.offsetY),n.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),so=Ht.extend({init:function(e){var t=this;Ht.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0)},options:{type:Cn,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:bn},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.justified,r=n.lineBox(),s=o?r.height():r.width(),l=e-(a?1:0),c=s/l,h=o?qi:Gi,u=r[h+1],d=[];for(t=0;e>t;t++)d.push(cn(u,Bn)),u+=c;return a||d.push(r[h+2]),i.reverse?d.reverse():d},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(2*e.options.categories.length)},getSlot:function(e,t){var n,i,o,a=this,r=a.options,s=a.getMajorTickPositions(),l=r.reverse,c=r.justified,h=r.vertical?qi:Gi,u=a.lineBox(),d=u[h+(l?2:1)],p=u[h+(l?1:2)],g=u.clone(),f=Pt.max(1,s.length-(c?0:1));return e=on(e)?e:0,t=on(t)?t:e,e=V(e,0,f),t=V(t-1,e,f),t=Pt.max(e,t),n=0===e?d:s[e],i=c?n:s[t],o=t-e,(o>0||e===t)&&(i=s[t+1]||p),c&&(e===f?n=i:i=n),g[h+1]=l?i:n,g[h+2]=l?n:i,g},getCategoryIndex:function(e){var t,n,i,o,a=this,r=a.options,s=r.reverse,l=r.vertical,c=l?qi:Gi,h=a.lineBox(),u=h[c+1],d=h[c+2],p=e[c],g=a.getMajorTickPositions();if(u>p||p>d)return null;for(i=0;g.length>i;i++){if(t=g[i],n=g[i+1],on(n)||(n=s?u:d),s&&(t=n,n=g[i]),r.justified&&p===n){o=Pt.max(0,l?g.length-i-1:i+1);break}if(p>=t&&n>=p){o=Pt.max(0,l?g.length-i-2:i);break}}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,n=t.options,i=t.lineBox(),o=n.vertical?i.height():i.width(),a=n.categories.length,r=o/a,s=cn(e/r,Mn);return{min:s,max:a+s}},scaleRange:function(e){var t=this,n=t.options,i=n.categories.length,o=e*i;return{min:-o,max:i+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,i=n.options,o=i.dataItems?i.dataItems[e]:null,a=on(i.categories[e])?i.categories[e]:"";return new Mt(a,e,o,t)}}),lo=Mt.extend({formatValue:function(e,t){return Dt.toString(e,t.format,t.culture)}}),co=so.extend({init:function(e){var t,n,i=this;e=e||{},e=zt({roundToBaseUnit:!0},e,{min:x(e.min),max:x(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),n=t!==xn&&!rn(t,no),n&&(e.baseUnit=i.defaultBaseUnit(e)),(t===xn||e.baseUnitStep===fn)&&i.autoBaseUnit(e),i.groupCategories(e)),so.fn.init.call(i,e)},options:{type:En,labels:{dateFormats:io},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,n=so.fn.translateRange.call(t,e),i=t.options,o=i.baseUnit,a=Pt.round(n.min),r=i.weekStartDay;return{min:v(i.min,a,o,r),max:v(i.max,a,o,r)}},scaleRange:function(e){for(var t,n,i=this,o=i.options,a=Pt.abs(e),r=o.min,s=o.max;a--;)t=A(r,s),n=Pt.round(.1*t),0>e?(r=k(r,n),s=k(s,-n)):(r=k(r,-n),s=k(s,n));return{min:r,max:s}},defaultBaseUnit:function(e){var t,n,i,o,a,r=e.categories,s=on(r)?r.length:0,l=oi;for(t=0;s>t;t++)n=x(r[t]),n&&o&&(i=n-o,i>0&&(l=Pt.min(l,i),a=l>=Li?Ki:l>=Ri-3*Vi?si:l>=Bi?Xi:l>=Vi?On:l>=Di?Qn:ri)),o=n;return a||On},range:function(e){e=e||this.options;var t=x(e.categories),n=e.baseUnit===xn,i=n?no[0]:e.baseUnit,o=m(e.min),r=m(e.max),s=a(t),l=m(s.min),c=m(s.max);return e.roundToBaseUnit?{min:v(o||l,0,i,e.weekStartDay),max:v(r||c,1,i,e.weekStartDay)}:{min:x(o||l),max:x(r||c)}},autoBaseUnit:function(e){for(var t,n,i,o=this,a=o.range(e),r=e.baseUnit===xn,s=0,l=r?no[s++]:e.baseUnit,c=a.max-a.min,h=c/Ei[l],u=h,d=e.maxDateGroups||o.options.maxDateGroups,p=zt({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);h>d;)if(t=t||p[l].slice(0),i=t.shift())n=i,h=u/n;else{if(!r){h>d&&(n=Pt.ceil(u/d));break}l=no[s++]||ln(no),u=c/Ei[l],t=null}e.baseUnitStep=n,e.baseUnit=l},getMajorTickPositions:function(){var e,t,n,i,o,a,r,s,l,c,h,u,d,p,g,f,x,m=this,v=m.options,y=v.categories,w=[];if(v.roundToBaseUnit||0===y.length)w=so.fn.getMajorTickPositions.call(m);else{for(n=v.vertical,i=v.reverse,o=m.lineBox(),a=n?o.height():o.width(),r=y[0].getTime(),s=m.range(m.options),l=s.max-s.min,c=a/l,h=y.length,u=(n?-1:1)*(i?-1:1),d=1===u?1:2,p=1===u?2:1,g=o[(n?qi:Gi)+d],f=o[(n?qi:Gi)+p],x=g,e=0;h>e;e++)t=y[e]-r,x=g+t*c*u,w.push(cn(x,Bn));ln(w)!==f&&w.push(f)}return w},groupCategories:function(e){var t,n,i,o,a,r,s=this,l=x(e.categories),c=e.baseUnit,h=e.baseUnitStep||1,u=s.range(e),d=e.roundToBaseUnit,p=[],g=s.categoryMap=[],f=[];for(t=d?v(u.max,h-1,c,e.weekStartDay):u.max,L(u.min,u.max)&&(t=x(m(t)+1)),n=u.min;t>n;n=i){for(i=v(n,h,c,e.weekStartDay),p.push(n),o=[],a=O(l,n);l.length>a;a++)if(r=l[a],r&&r>=n)if(i>r)e.justified&&L(r,t)?f.push(a):o.push(a);else{if(d||!L(i,t))break;f.push(a)}g.push(o)}f.length&&(p.push(t),g.push(f)),e.max||0!==(ln(g)||[]).length||(g.pop(),p.pop()),e.min=p[0],e.max=d?ln(p):t,e.categories=p},createAxisLabel:function(e,t){var n,i=this.options,o=i.dataItems?i.dataItems[e]:null,a=i.categories[e],r=i.baseUnit,s=!0,l=t.dateFormats[r];return i.justified&&(n=w(a,r,i.weekStartDay),s=L(n,a)),t=zt({format:l},t,{visible:s}),new lo(a,e,o,t)}}),ho=Ht.extend({init:function(e,t,n){var i=this;n=n||{},zt(n,{min:x(n.min),max:x(n.max),axisCrossingValue:x(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(x(e),x(t),n),Ht.fn.init.call(i,n)},options:{type:En,labels:{dateFormats:io}},applyDefaults:function(e,n,i){var o=this,a=i.min||e,r=i.max||n,s=i.baseUnit||o.timeUnits(r-a),l=Ei[s],c=w(m(a)-1,s),h=b(m(r)+1,s),u=i.majorUnit?i.majorUnit:t,d=u||Ut.ceil(Ut.autoMajorUnit(c.getTime(),h.getTime()),l)/l,p=_(c,h,s),g=Ut.ceil(p,d),f=g-p,x=Pt.floor(f/2),y=f-x;return i.baseUnit||delete i.baseUnit,zt({baseUnit:s,min:v(c,-x,s),max:v(h,y,s),minorUnit:d/5},i,{majorUnit:d})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Pt.floor(_(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.reverse,r=n.lineBox(),s=o?r.height():r.width(),l=_(i.min,i.max,i.baseUnit),c=s/l,h=e*c,u=n.getDivisions(e),d=(o?-1:1)*(a?-1:1),p=1===d?1:2,g=r[(o?qi:Gi)+p],f=[];for(t=0;u>t;t++)f.push(cn(g,Bn)),g+=h*d;return f},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return Gt.fn.getSlot.call(this,x(e),x(t))},getValue:function(e){var t=Gt.fn.getValue.call(this,e);return null!==t?x(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,i=e*n.majorUnit,o=v(n.min,i,n.baseUnit),a=t.dateFormats[n.baseUnit];return t.format=t.format||a,new lo(o,e,null,t)},timeUnits:function(e){var t=Qn;return e>=Li?t=Ki:e>=Ri?t=si:e>=Bi?t=Xi:e>=Vi&&(t=On),t}}),uo=Wt.extend({init:function(e){var t=this;Wt.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,n,i=this,o=i.options,a=o.vertical,r=a?qi:Gi,s=i.children,l=o.gap,c=o.spacing,h=s.length,u=h+l+c*(h-1),d=(a?e.height():e.width())/u,p=e[r+1]+d*(l/2);for(n=0;h>n;n++)t=(s[n].box||e).clone(),t[r+1]=p,t[r+2]=p+d,s[n].reflow(t),h-1>n&&(p+=d*c),p+=d}}),po=Wt.extend({init:function(e){var t=this;Wt.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,n,i,o,a=this,r=a.options,s=r.vertical,l=s?Gi:qi,c=s?qi:Gi,h=e[c+2],u=a.children,d=a.box=new Ft,p=u.length;for(t=r.isReversed?s?An:ti:s?zi:vi,n=0;p>n;n++)i=u[n],o=i.box.clone(),o.snapTo(e,l),i.options&&(i.options.stackBase=h),0===n?d=a.box=o.clone():o.alignTo(u[n-1].box,t),i.reflow(o),d.wrap(o)}}),go={click:function(t,n){var i=this;t.trigger(Pi,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})},hover:function(t,n){var i=this;t.trigger(Si,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})}},fo=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.value=e,n.options.id=un(),n.enableDiscovery()},options:{color:ji,border:{width:1},vertical:!0,overlay:{gradient:Kn},aboveAxis:!0,labels:{visible:!1},animation:{type:vn},opacity:1},render:function(){var e,t=this,n=t.value,i=t.options,o=i.labels,a=n;t._rendered||(t._rendered=!0,o.visible&&n&&(o.template?(e=Et(o.template),a=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(a=nn(o.format,a)),t.append(new ao(a,zt({vertical:i.vertical,id:un()},i.labels)))))},reflow:function(e){this.render();var t=this,n=t.options,i=t.children,o=i[0];t.box=e,o&&(o.options.aboveAxis=n.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,n=t.options,i=n.vertical,o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType}:{},a=t.box,r=zt({id:n.id,fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:n.aboveAxis,stackBase:n.stackBase,animation:n.animation,data:{modelId:n.modelId}},o),s=[];return a.width()>0&&a.height()>0&&(n.overlay&&(r.overlay=zt({rotation:i?0:90},n.overlay)),s.push(e.createRect(a,r))),tn(s,Wt.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var n=this,i=n.box;return t=zt({data:{modelId:n.options.modelId}},t),e.createRect(i,t)},getBorderColor:function(){var e=this,t=e.options,n=t.color,i=t.border,o=i.color,a=i._brightness||yn;return on(o)||(o=new Xt(n).brightness(a).toHex()),o},tooltipAnchor:function(e,t){var n,i,o=this,a=o.options,r=o.box,s=a.vertical,l=a.aboveAxis;return s?(n=r.x2+Ui,i=l?r.y1:r.y2-t):a.isStacked?(n=r.x2-e,i=r.y1-t-Ui):(n=r.x2+Ui,i=r.y1),new qt(n,i)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});zt(fo.fn,go),M=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(Tt(e.addValue,e))},addValue:function(e,t,n,i,o){var a,r=this,s=e.value,l=r.categoryPoints[n],c=r.seriesPoints[o];l||(r.categoryPoints[n]=l=[]),c||(r.seriesPoints[o]=c=[]),r.updateRange(s,n,i),a=r.createPoint(e,t,n,i,o),a&&(a.category=t,a.series=i,a.seriesIx=o,a.owner=r,a.dataItem=i.data[n]),r.points.push(a),c.push(a),l.push(a)},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o];on(e)&&!isNaN(e)&&(a=i.valueAxisRanges[o]=a||{min:oi,max:ai},a.min=Pt.min(a.min,e),a.max=Pt.max(a.max,e))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i},reflow:function(e){var t,n,i,o=this,a=o.options,r=a.invertAxes,s=0,l=o.categorySlots=[],c=o.points,h=o.categoryAxis;o.traverseDataPoints(function(e,a,u,d){var p,g,f,x,m,v,y=e.value;t=o.seriesValueAxis(d),n=o.categoryAxisCrossingValue(t),i=c[s++],i&&i.plotValue&&(y=i.plotValue),p=o.categorySlot(h,u,t),g=o.valueSlot(t,y,n),f=r?g:p,x=r?p:g,m=new Ft(f.x1,x.y1,f.x2,x.y2),v=t.options.reverse?n>y:y>=n,i&&(i.options.aboveAxis=v,i.reflow(m)),l[u]||(l[u]=p)}),o.reflowCategories(l),o.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,n){return e.getSlot(t,n)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,n,i,o,a,r=this,s=r.options,l=s.series,c=r.categoryAxis.options.categories||[],h=p(l),u=r.bindableFields(),d=l.length;for(t=0;h>t;t++)for(n=0;d>n;n++)o=c[t],a=l[n],i=P(a,t,u),e(i,o,t,a,n)},bindableFields:function(){return[]},formatPointValue:function(e,t){return nn(t,e.value)}}),N=M.extend({init:function(e,t){var n=this;n._groupTotals={},n._groups=[],M.fn.init.call(n,e,t)},render:function(){var e=this;M.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,n,i,o){var a,r,s,l,c,h=this,u=e.value,d=h.options,p=h.children,g=h.options.isStacked,f=zt({},o.labels);return g&&f.position==pi&&(f.position=Zn),a=new fo(u,zt({},{vertical:!d.invertAxes,overlay:o.overlay,labels:f,isStacked:g},o,{color:e.fields.color||t})),r=p[i],r||(r=new uo({vertical:d.invertAxes,gap:d.gap,spacing:d.spacing}),h.append(r)),g?(c=h.getStackWrap(o,r),0===c.children.length?(s=new po({vertical:!d.invertAxes}),l=new po({vertical:!d.invertAxes,isReversed:!0}),c.append(s,l)):(s=c.children[0],l=c.children[1]),u>0?s.append(a):l.append(a)):r.append(a),a},getStackWrap:function(e,t){var n,i,o=t.children,a=e.stack,r=o.length;if(typeof a===Ti){for(i=0;r>i;i++)if(o[i]._stackGroup===a){n=o[i];break}}else n=o[0];return n||(n=new Wt,n._stackGroup=a,t.append(n)),n},updateRange:function(e,t,n){var i=this,o=i.options.isStacked,a=i.groupTotals(n.stack),r=a.positive,s=a.negative;on(e)&&(o?d(e>0?r:s,t,e):M.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t,n=this,a=n.options.isStacked;a&&(e=n.options.series[0].axis,t=n.categoryTotals(),n.valueAxisRanges[e]={min:i(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,n=t.options;return M.fn.seriesValueAxis.call(t,n.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,n){return e.getSlot(t,this.options.isStacked?0:n)},categorySlot:function(e,t,n){var i,o,a=this,r=a.options,s=e.getSlot(t);return r.isStacked&&(o=n.getSlot(0,0),i=r.invertAxes?Gi:qi,s[i+1]=s[i+2]=o[i+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),M.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,n,i,o,a,r,s,l,c=this,h=c.options,u=h.series,d=p(u),g=c.children,f=u.length;for(t=0;f>t;t++)for(n=u[t],i=c.seriesValueAxis(n),e=0;d>e;e++)o=g[e],a=c.getStackWrap(n,o),r=a.children,s=r[0],l=r[1],s&&l&&(s.options.isReversed=i.options.reverse,l.options.isReversed=!i.options.reverse)},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;
for(t=0;o>t;t++)i[t].reflow(e[t])},groupTotals:function(e){var t=this,n=typeof e===Ti?e:"default",i=t._groupTotals[n];return i||(i=t._groupTotals[n]={positive:[],negative:[]},t._groups.push(n)),i},categoryTotals:function(){var e,t,n,i=this,o=i._groups,a=i._groupTotals,r={positive:[],negative:[]},s=o.length;for(n=0;s>n;n++)e=o[n],t=a[e],tn(r.positive,t.positive),tn(r.negative,t.negative);return r},bindableFields:function(){return["color"]}}),F=Yt.extend({init:function(e){var t=this;Yt.fn.init.call(t,e)},options:{type:Tn,align:Pn,vAlign:Pn},getViewElements:function(e,t){var n,i,o=this,a=o.options,r=a.type,s=o.paddingBox,l=s.width()/2;return a.visible&&o.hasBox()?(i=zt(o.elementStyle(),t),n=r===Ni?e.createPolyline([new qt(s.x1+l,s.y1),new qt(s.x1,s.y2),new qt(s.x2,s.y2)],!0,i):r===Tn?e.createCircle(new qt(cn(s.x1+l,Bn),cn(s.y1+s.height()/2,Bn)),l,i):e.createRect(s,i),[n]):[]}}),Y=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.value=e,n.options.id=un(),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:ji,size:ii,type:Tn,border:{width:2},opacity:1},labels:{visible:!1,position:pn,margin:an(3),padding:an(4),animation:{type:qn,delay:$n}}},render:function(){var e,t=this,n=t.options,i=n.markers,o=n.labels,a=i.background,r=zt({},i.border),s=t.value;t._rendered||(t._rendered=!0,on(r.color)||(r.color=new Xt(a).brightness(yn).toHex()),t.marker=new F({id:t.options.id,visible:i.visible&&i.size,type:i.type,width:i.size,height:i.size,background:a,border:r,opacity:i.opacity,zIndex:i.zIndex,animation:i.animation}),t.append(t.marker),o.visible&&(o.template?(e=Et(o.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(s=t.formatValue(o.format)),t.label=new Jt(s,zt({id:un(),align:Pn,vAlign:Pn,margin:{left:5,right:5}},o)),t.append(t.label)))},markerBox:function(){return this.marker.box},reflow:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.aboveAxis;n.render(),n.box=e,t=e.clone(),o?a?t.y1-=t.height():t.y2+=t.height():a?t.x1+=t.width():t.x2-=t.width(),n.marker.reflow(t),n.reflowLabel(t)},reflowLabel:function(e){var t=this,n=t.options,i=t.marker,o=t.label,a=n.labels.position;o&&(a=a===pn?zi:a,a=a===wn?An:a,o.reflow(e),o.box.alignTo(i.box,a),o.reflow(o.box))},highlightOverlay:function(e,t){var n=this,i=n.marker;return t=zt({data:{modelId:n.options.modelId}},t),i.getViewElements(e,zt(t,{fill:i.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var n=this,i=n.marker.box,o=n.options.aboveAxis;return new qt(i.x2+Ui,o?i.y1-t:i.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),zt(Y.fn,go),W=Y.extend({init:function(e,t){var n=this;Y.fn.init.call(n,e,t),n.category=e.category},options:{labels:{position:Pn},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o=i.border.width,a=n.markers,r=t.box.center(),s=a.size/2-o/2,l=i.border.color||new Xt(a.background).brightness(yn).toHex();return e.createCircle(r,s,{data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:i.border.opacity})},toggleHighlight:function(e){var n,i=this,o=i.options.highlight.opacity;i.highlighted=!i.highlighted,n=i.marker.getViewElements(e,{fillOpacity:i.highlighted?o:t})[0],n.refresh(It.getElementById(this.options.id))}}),X=Wt.extend({init:function(e,t,n){var i=this;Wt.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n,i.options.id=un(),i.enableDiscovery()},options:{},points:function(e){var t,n,i=this,o=i.linePoints.concat(e||[]),a=[],r=o.length;for(t=0;r>t;t++)n=o[t].markerBox().center(),a.push(new qt(n.x,n.y));return a},getViewElements:function(e){var t=this,n=t.series;return Wt.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i)}}),j={renderSegments:function(){var e,t,n,i,o,a,r,s=this,l=s.options,c=l.series,h=s.seriesPoints,u=h.length,d=[];for(t=0;u>t;t++){for(n=h[t],r=n.length,e=c[t],i=[],a=0;r>a;a++)o=n[a],o?i.push(o):s.seriesMissingValues(e)!==ei&&(i.length>1&&d.push(s.createSegment(i,e,t,ln(d))),i=[]);i.length>1&&d.push(s.createSegment(i,e,t,ln(d)))}s._segments=d,s.append.apply(s,d)},seriesMissingValues:function(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?Qi:t},createSegment:function(e,t,n){return new X(e,t,n)},getNearestPoint:function(e,t,n){var i,o,a,r,s,l=this,c=l.options.invertAxes,h=c?qi:Gi,u=c?t:e,d=l.seriesPoints[n],p=oi,g=d.length;for(s=0;g>s;s++)i=d[s],i&&on(i.value)&&null!==i.value&&(o=i.box,a=Pt.abs(o.center()[h]-u),p>a&&(r=i,p=a));return r}},G=M.extend({init:function(e,t){var n=this;n._stackAxisRange={min:oi,max:ai},n._categoryTotals=[],n.enableDiscovery(),M.fn.init.call(n,e,t)},render:function(){var e=this;M.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,n,i){var o,a,r=this,s=e.value,l=r.options,c=l.isStacked,h=r.categoryPoints[n],u=r.seriesMissingValues(i),d=0,p=e.fields;if(!on(s)||null===s){if(u!==Qi)return null;s=0}return a=new Y(s,zt({vertical:!l.invertAxes,markers:{border:{color:i.color}}},i,{color:p.color,markers:{border:{color:p.color}}})),c&&(o=E(h),o&&(d=o.plotValue),a.plotValue=s+d),r.append(a),a},updateRange:function(e,t){var n,i=this,o=i.options.isStacked,r=i._stackAxisRange,s=i._categoryTotals;on(e)&&(o?(d(s,t,e),n=a(s),r.min=Pt.min(r.min,n.min),r.max=Pt.max(r.max,n.max)):M.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t=this,n=t.options.isStacked;n&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,n=M.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Dn}});return i.children=n,[i]},bindableFields:function(){return["color"]}}),zt(G.fn,j),q=X.extend({init:function(e,t,n,i){var o=this;o.stackPoints=t,X.fn.init.call(o,e,n,i)},points:function(){var e,t,n=this,i=n.parent,o=i.options.isStacked&&n.seriesIx>0,a=i.plotArea,r=i.options.invertAxes,s=i.seriesValueAxis(n.series),l=s.lineBox(),c=a.seriesCategoryAxis(n.series),h=c.lineBox(),u=r?h.x1:h.y1,d=n.stackPoints,p=X.fn.points.call(n,d);return u=r?V(u,l.x1,l.x2):V(u,l.y1,l.y2),!o&&p.length>1&&(e=p[0],t=ln(p),r?(p.unshift(new qt(u,e.y)),p.push(new qt(u,t.y))):(p.unshift(new qt(e.x,u)),p.push(new qt(t.x,u)))),p},getViewElements:function(e){var t=this,n=t.series,i=zt({color:n.color,opacity:n.opacity},n.line),o=X.fn.points.call(t),a=t.points();return Wt.fn.getViewElements.call(t,e),[e.createPolyline(a,!1,{id:t.options.id,fillOpacity:n.opacity,fill:n.color,stack:n.stack,data:{modelId:t.options.modelId},zIndex:-1}),e.createPolyline(o,!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),K=G.extend({createSegment:function(e,t,n,i){var o,a=this,r=a.options;return r.isStacked&&n>0&&i&&(o=i.linePoints.slice(0).reverse()),new q(e,o,t,n)},seriesMissingValues:function(e){return e.missingValues||Qi}}),Q=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(Tt(e.addValue,e))},addValue:function(e,t){var n,i=this,o=e.x,a=e.y,r=t.seriesIx,s=i.seriesPoints[r];i.updateRange(e,t.series),on(o)&&null!==o&&on(a)&&null!==a&&(n=i.createPoint(e,t.series,r,t),n&&St(n,t)),i.points.push(n),s.push(n)},updateRange:function(e,t){var n=this,i=e.x,o=e.y,a=t.xAxis,r=t.yAxis,s=n.xAxisRanges[a],l=n.yAxisRanges[r];on(i)&&null!==i&&(s=n.xAxisRanges[a]=s||{min:oi,max:ai},s.min=Pt.min(s.min,i),s.max=Pt.max(s.max,i)),on(o)&&null!==o&&(l=n.yAxisRanges[r]=l||{min:oi,max:ai},l.min=Pt.min(l.min,o),l.max=Pt.max(l.max,o))},createPoint:function(e,t,n,i){var o,a=this;return o=new Y(e,zt({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format}},t,{color:i.color,markers:{border:{color:i.color}}})),a.append(o),o},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,i=n?t.namedXAxes[n]:t.axisX,o=e.yAxis,a=o?t.namedYAxes[o]:t.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!a)throw Error("Unable to locate Y axis with name "+o);return{x:i,y:a}},reflow:function(e){var t,n,i=this,o=i.points,a=0;i.traverseDataPoints(function(e,r){t=o[a++],n=i.seriesAxes(r.series);var s=n.x.getSlot(e.x,e.x),l=n.y.getSlot(e.y,e.y),c=new Ft(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),i.box=e},getViewElements:function(e){var t=this,n=Wt.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Dn}});return i.children=n,[i]},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l=this,c=l.options,h=c.series,u=l.seriesPoints,d=l.bindableFields();for(n=0;h.length>n;n++)for(i=h[n],o=u[n],o||(u[n]=[]),t=0;i.data.length>t;t++)a=P(i,t,d),r=a.value,s=a.fields,e(r,zt({pointIx:t,series:i,seriesIx:n,dataItem:i.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var n=e.value;return nn(t,n.x,n.y)}}),$=Q.extend({render:function(){var e=this;Q.fn.render.call(e),e.renderSegments()}}),zt($.fn,j),J=Q.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var n,i=this,o=t.series,a=o.negativeValues,r=i.plotArea.options.seriesColors||[],s=!0;n=t.color||o.color||r[t.pointIx%r.length],0>e.size&&(n=a.color||n,s=a.visible),t.color=n,s&&Q.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),Q.fn.reflow.call(t,e)},createPoint:function(e,t,n,i){var o,a=this,r=t.data.length,s=i.pointIx*($n/r),l={delay:s,duration:$n-s,type:kn};return o=new W(e,zt({tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format,animation:l}},t,{color:i.color,markers:{type:Tn,background:i.color,border:t.border,opacity:t.opacity,animation:l}})),a.append(o),o},updateBubblesSize:function(e){var t,n,i,o,a,r,s,l,c,h,u,d,p,g,f,x,m=this,v=m.options,y=v.series,w=Pt.min(e.width(),e.height());for(t=0;y.length>t;t++)for(i=y[t],o=m.seriesPoints[t],a=m.maxSize(o),r=i.minSize||Pt.max(.02*w,10),s=i.maxSize||.2*w,l=r/2,c=s/2,h=Pt.PI*l*l,u=Pt.PI*c*c,d=u-h,p=d/a,n=0;o.length>n;n++)g=o[n],f=Pt.abs(g.value.size)*p,x=Pt.sqrt((h+f)/Pt.PI),zt(g.options,{markers:{size:2*x,zIndex:c-x},labels:{zIndex:c-x+1}})},maxSize:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t].value.size,o=Pt.max(o,Pt.abs(n));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,n=Wt.fn.getViewElements.call(t,e),i=e.createGroup();return i.children=n,[i]},formatPointValue:function(e,t){var n=e.value;return nn(t,n.x,n.y,n.size,e.category)}}),Z=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.value=e,n.options.id=un(),n.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:Kn},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(e){var t,n,i,o=this,a=o.options,r=o.owner,s=o.value,l=r.seriesValueAxis(a),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,o.realBody=n,t=i.center().x,c.push([new qt(t,i.y1),new qt(t,n.y1)]),c.push([new qt(t,n.y2),new qt(t,i.y2)]),o.lowHighLinePoints=c,o.box=i.clone().wrap(n)},getViewElements:function(e){var t=this,n=t.options,i=[],o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType,strokeOpacity:on(n.border.opacity)?n.border.opacity:n.opacity}:{},a=zt({id:n.id,fill:t.color,fillOpacity:n.opacity},o),r={id:n.id,strokeOpacity:on(n.line.opacity)?n.line.opacity:n.opacity,strokeWidth:n.line.width,stroke:n.line.color||t.color,dashType:n.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:Dn}});return n.overlay&&(a.overlay=zt({rotation:0},n.overlay)),i.push(e.createRect(t.realBody,a)),i.push(e.createPolyline(t.lowHighLinePoints[0],!1,r)),i.push(e.createPolyline(t.lowHighLinePoints[1],!1,r)),i.push(t.createOverlayRect(e,n)),tn(i,Wt.fn.getViewElements.call(t,e)),s.children=i,[s]},getBorderColor:function(){var e=this,t=e.options,n=e.color,i=t.border,o=i.color;return on(o)||(o=new Xt(n).brightness(i._brightness).toHex()),o},createOverlayRect:function(e,t){return e.createRect(this.box,{id:t.id,data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var n=this,i=n.options,o=i.highlight,a=o.border,r=n.getBorderColor(),s=o.line,l={data:{modelId:i.modelId}},c=zt({},l,t,{stroke:r,strokeOpacity:a.opacity,strokeWidth:a.width}),h=zt({},l,{stroke:s.color||r,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),u=e.createGroup();return u.children.push(e.createRect(n.realBody,c)),u.children.push(e.createPolyline(n.lowHighLinePoints[0],!1,h)),u.children.push(e.createPolyline(n.lowHighLinePoints[1],!1,h)),u},tooltipAnchor:function(){var e=this,t=e.box;return new qt(t.x2+Ui,t.y1+Ui)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),zt(Z.fn,go),et=M.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++)i[t].reflow(e[t])},addValue:function(e,t,n,i,o){var a,r,s=this,l=s.options,c=e.value,h=s.children,u=e.fields.color||i.color,d=this.splitValue(c),p=U(d);p&&(a=s.createPoint(c,i)),r=h[n],r||(r=new uo({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(r)),a&&(s.updateRange(c,n,i),r.append(a),i.type==_n&&c.open>c.close&&(u=e.fields.downColor||i.downColor),a.color=u,a.categoryIx=n,a.category=t,a.series=i,a.seriesIx=o,a.owner=s,a.dataItem=i.data[n]),s.points.push(a)},createPoint:function(e,t){return new Z(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o],r=i.splitValue(e);a=i.valueAxisRanges[o]=a||{min:oi,max:ai},a=i.valueAxisRanges[o]={min:Pt.min.apply(Pt,r.concat([a.min])),max:Pt.max.apply(Pt,r.concat([a.max]))}},formatPointValue:function(e,t){var n=e.value;return nn(t,n.open,n.high,n.low,n.close,e.category)}}),tt=Z.extend({reflow:function(e){var t,n,i,o,a=this,r=a.options,s=a.owner,l=a.value,c=s.seriesValueAxis(r),h=[],u=[],d=[];o=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=o.x1=e.x1,n.x2=i.x2=o.x2=e.x2,t=o.center().x,h.push(new qt(n.x1,n.y1)),h.push(new qt(t,n.y1)),u.push(new qt(t,i.y1)),u.push(new qt(i.x2,i.y1)),d.push(new qt(t,o.y1)),d.push(new qt(t,o.y2)),a.oPoints=h,a.cPoints=u,a.lhPoints=d,a.box=o.clone().wrap(n.clone().wrap(i))},getViewElements:function(e){var t=this,n=t.options,i=[],o={id:n.id,strokeOpacity:n.opacity,zIndex:-1,strokeWidth:n.width,stroke:t.color,dashType:n.dashType},a=e.createGroup({animation:{type:Dn}});return i.push(t.createOverlayRect(e,n)),i.push(e.createPolyline(t.oPoints,!0,o)),i.push(e.createPolyline(t.cPoints,!0,o)),i.push(e.createPolyline(t.lhPoints,!0,o)),tn(i,Wt.fn.getViewElements.call(t,e)),a.children=i,[a]},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o={data:{modelId:n.modelId}},a=zt(o,{strokeWidth:i.line.width,strokeOpacity:i.line.opacity,stroke:i.line.color||t.color}),r=e.createGroup();return r.children.push(e.createPolyline(t.oPoints,!0,a)),r.children.push(e.createPolyline(t.cPoints,!0,a)),r.children.push(e.createPolyline(t.lhPoints,!0,a)),r}}),nt=et.extend({createPoint:function(e,t){return new tt(e,t)},bindableFields:function(){return["color"]}}),it=Wt.extend({init:function(e,t,n){var i=this;i.value=e,i.sector=t,i.enableDiscovery(),Wt.fn.init.call(i,n)},options:{color:ji,overlay:{gradient:yi},border:{width:.5},labels:{visible:!1,distance:35,font:Un,margin:an(.5),align:Tn,zIndex:1,position:pi},animation:{type:fi},highlight:{visible:!0,border:{width:1}}},render:function(){var e,t=this,n=t.options,i=n.labels,o=t.value;t._rendered||(t._rendered=!0,i.template?(e=Et(i.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):i.format&&(o=nn(i.format,o)),i.visible&&o&&(t.label=new Jt(o,zt({},i,{id:un(),align:Pn,vAlign:"",animation:{type:qn,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,n,i,o=this,a=o.sector.clone(),r=o.options,s=o.label,l=r.labels,c=l.distance,h=a.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Pn?(a.r=Pt.abs((a.r-i)/2)+i,e=a.point(h),s.reflow(new Ft(e.x,e.y-i/2,e.x,e.y))):l.position==Zn?(a.r=a.r-i/2,e=a.point(h),s.reflow(new Ft(e.x,e.y-i/2,e.x,e.y))):(e=a.clone().expand(c).point(h),e.x>=a.c.x?(t=e.x+n,s.orientation=vi):(t=e.x-n,s.orientation=ti),s.reflow(new Ft(t,e.y-i,e.x,e.y))))},getViewElements:function(e){var t=this,n=t.sector,i=t.options,o=i.border||{},a=o.width>0?{stroke:o.color,strokeWidth:o.width,dashType:o.dashType}:{},r=[],s=i.overlay;return s&&(s=zt({},i.overlay,{r:n.r,ir:n.ir,cx:n.c.x,cy:n.c.y,bbox:n.getBBox()})),t.value&&r.push(t.createSegment(e,n,zt({id:i.id,fill:i.color,overlay:s,fillOpacity:i.opacity,strokeOpacity:i.opacity,animation:zt(i.animation,{delay:t.animationDelay}),data:{modelId:i.modelId},zIndex:i.zIndex,singleSegment:1===(t.options.data||[]).length},a))),tn(r,Wt.fn.getViewElements.call(t,e)),r},createSegment:function(e,t,n){return n.singleSegment?e.createCircle(t.c,t.r,n):e.createSector(t,n)},highlightOverlay:function(e,t){var n,i=this,o=i.options.highlight||{},a=o.border||{},r=i.options.id+gi;return t=zt({},t,{id:r}),0!==i.value&&(n=i.createSegment(e,i.sector,zt({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:a.opacity,strokeWidth:a.width,stroke:a.color,data:{modelId:i.options.modelId}}))),n},tooltipAnchor:function(e,t){var n=this,i=n.sector.clone().expand(15),o=e/2,a=t/2,r=i.middle(),s=r*Fn,l=i.point(r),c=l.x-o,h=l.y-a,u=Pt.sin(s),d=Pt.cos(s);return.9>Pt.abs(u)&&(c+=o*-d/Pt.abs(d)),.9>Pt.abs(d)&&(h+=a*-u/Pt.abs(u)),new qt(c,h)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),zt(it.fn,go),ot=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.plotArea=e,n.segments=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var e=this;e.traverseDataPoints(Tt(e.addValue,e))},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l,c,h,u,d,p=this,g=p.options,f=p.plotArea.options.seriesColors||[],x=g.startAngle,m=f.length,v=g.series,y=v.length,w=un(),b=p.bindableFields();for(o=0;y>o;o++)for(t=v[o],r=t.data,h=p.pointsTotal(t),s=360/h,u=x,o!=y-1&&t.labels.position==pi&&(t.labels.position=Pn),d=0;r.length>d;d++)n=P(t,d,b),l=n.value,i=n.fields,a=cn(l*s,Mn),c=1!=r.length&&!!i.explode,t.color=i.color||f[d%m],e(l,new Qt(null,0,0,u,a),{owner:p,category:i.category||"",categoryIx:d,series:t,seriesIx:o,dataItem:r[d],percentage:l/h,explode:c,visibleInLegend:i.visibleInLegend,overlay:{id:w+o},zIndex:y-o,animationDelay:p.animationDelay(d,o,y)}),u+=a},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new it(e,t,n.series),i.options.id=un(),St(i,n),o.append(i),o.segments.push(i))},createLegendItem:function(e,t){var n,i,o=this,a=(o.options.legend||{}).labels||{};t&&t.visibleInLegend!==!1&&(n=t.category||"",(a||{}).template&&(i=Et(a.template),n=i({text:n,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),o.legendItems.push({name:n,color:t.series.color}))},pointsTotal:function(e){var t,n=e.data,i=n.length,o=0;for(t=0;i>t;t++)o+=P(e,t).value;return o},reflow:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.options,u=e.clone(),d=5,p=Pt.min(u.width(),u.height()),g=p/2,f=p-.85*p,x=on(h.padding)?h.padding:f,m=new Ft(u.x1,u.y1,u.x1+p,u.y1+p),v=m.center(),y=c.seriesConfigs||[],w=u.center(),b=c.segments,A=b.length,k=h.series.length,_=[],C=[];for(x=x>g-d?g-d:x,m.translate(w.x-v.x,w.y-v.y),r=g-x,l=new qt(r+m.x1+x,r+m.y1+x),s=0;A>s;s++)o=b[s],a=o.sector,a.r=r,a.c=l,n=o.seriesIx,y.length&&(t=y[n],a.ir=t.ir,a.r=t.r),n==k-1&&o.explode&&(a.c=a.clone().radius(.15*a.r).point(a.middle())),o.reflow(m),i=o.label,i&&i.options.position===pi&&n==k-1&&(i.orientation===vi?C.push(i):_.push(i));_.length>0&&(_.sort(c.labelComparator(!0)),c.leftLabelsReflow(_)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=m},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t,n,i,o=this,a=o.segments,r=a[a.length-1],s=r.sector,l=e[0].box,c=e.length-1,h=[],u=s.r+r.options.labels.distance;for(n=cn(l.y1-(s.c.y-u-l.height()-l.height()/2)),h.push(n),i=0;c>i;i++)l=e[i].box,t=e[i+1].box,n=cn(t.y1-l.y2),h.push(n);return n=cn(s.c.y+u-e[c].box.y2-e[c].box.height()/2),h.push(n),h},distributeLabels:function(e,t){var n,i,o,a,r=this,s=e.length;for(a=0;s>a;a++)for(i=o=a,n=-e[a];n>0&&(i>=0||s>o);)n=r._takeDistance(e,a,--i,n),n=r._takeDistance(e,a,++o,n);r.reflowLabels(e,t)},_takeDistance:function(e,t,n,i){if(e[n]>0){var o=Pt.min(e[n],i);i-=o,e[n]-=o,e[t]+=o}return i},reflowLabels:function(e,t){var n,i,o,a,r=this,s=r.segments,l=s[s.length-1],c=l.sector,h=t.length,u=l.options.labels,d=u.distance,p=c.c.y-(c.r+d)-t[0].box.height();for(e[0]+=2,a=0;h>a;a++)n=t[a],p+=e[a],o=n.box,i=r.hAlignLabel(o.x2,c.clone().expand(d),p,p+o.height(),n.orientation==vi),n.orientation==vi?(u.align!==Tn&&(i=c.r+c.c.x+d),n.reflow(new Ft(i+o.width(),p,i,p))):(u.align!==Tn&&(i=c.c.x-c.r-d),n.reflow(new Ft(i-o.width(),p,i,p))),p+=o.height()},getViewElements:function(e){var t,n,i,o,a,s,l,c,h,u,d,p,g,f,x,m=this,v=m.options,y=v.connectors,w=m.segments,b=w.length,A=4,k=[];for(c=0;b>c;c++)a=w[c],n=a.sector,i=n.middle(),l=a.label,s={seriesId:a.seriesIx},l&&(o=[],l.options.position===pi&&0!==a.value&&(p=l.box,g=n.c,f=n.point(i),x=new qt(p.x1,p.center().y),f=n.clone().expand(y.padding).point(i),o.push(f),l.orientation==vi?(u=new qt(p.x1-y.padding,p.center().y),d=r(g,f,x,u),x=new qt(u.x-A,u.y),d=d||x,d.x=Pt.min(d.x,x.x),m.pointInCircle(d,n.c,n.r+A)||d.x<n.c.x?(h=n.c.x+n.r+A,a.options.labels.align!==Vn?x.x>h?o.push(new qt(h,f.y)):o.push(new qt(f.x+2*A,f.y)):o.push(new qt(h,f.y)),o.push(new qt(x.x,u.y))):(d.y=u.y,o.push(d))):(u=new qt(p.x2+y.padding,p.center().y),d=r(g,f,x,u),x=new qt(u.x+A,u.y),d=d||x,d.x=Pt.max(d.x,x.x),m.pointInCircle(d,n.c,n.r+A)||d.x>n.c.x?(h=n.c.x-n.r-A,a.options.labels.align!==Vn?h>x.x?o.push(new qt(h,f.y)):o.push(new qt(f.x-2*A,f.y)):o.push(new qt(h,f.y)),o.push(new qt(x.x,u.y))):(d.y=u.y,o.push(d))),o.push(u),t=e.createPolyline(o,!1,{id:un(),stroke:y.color,strokeWidth:y.width,animation:{type:qn,delay:a.animationDelay},data:{modelId:a.options.modelId}}),k.push(t)));return tn(k,Wt.fn.getViewElements.call(m,e)),k},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,i,o){var a=t.c.x,r=t.c.y,s=t.r,l=Pt.min(Pt.abs(r-n),Pt.abs(r-i));return l>s?e:a+Pt.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,n){return g(t.x-e.x)+g(t.y-e.y)<g(n)},formatPointValue:function(e,t){return nn(t,e.value)},animationDelay:function(e){return e*xi}}),at=it.extend({options:{overlay:{gradient:wi},labels:{position:Pn},animation:{type:fi}},reflowLabel:function(){var e,t,n=this,i=n.sector.clone(),o=n.options,a=n.label,r=o.labels,s=i.middle();a&&(t=a.box.height(),r.position==Pn?(i.r-=(i.r-i.ir)/2,e=i.point(s),a.reflow(new Ft(e.x,e.y-t/2,e.x,e.y))):it.fn.reflowLabel.call(n))},createSegment:function(e,t,n){return e.createRing(t,n)}}),zt(at.fn,go),rt=ot.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new at(e,t,n.series),i.options.id=un(),St(i,n),o.append(i),o.segments.push(i))},reflow:function(e){var t,n,i,o,a,r,s=this,l=s.options,c=e.clone(),h=5,u=Pt.min(c.width(),c.height()),d=u/2,p=u-.85*u,g=on(l.padding)?l.padding:p,f=l.series,x=f.length,m=0,v=0,y=0,w=0;for(s.seriesConfigs=[],g=g>d-h?d-h:g,i=d-g,a=0;x>a;a++)t=f[a],0===a&&on(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),on(t.size)?i-=t.size:m++,on(t.margin)&&a!=x-1&&(i-=t.margin);for(on(n)||(w=(d-g)/(x+.75),n=.75*w,i-=n),y=n,a=0;x>a;a++)t=f[a],o=on(t.size)?t.size:i/m,y+=v,r=y+o,s.seriesConfigs.push({ir:y,r:r}),v=t.margin||0,y=r;ot.fn.reflow.call(s,e)},animationDelay:function(e,t,n){return e*Wn+$n*(t+1)/(n+1)}}),st=Yt.extend({init:function(e){var t=this;Yt.fn.init.call(t,e),e=t.options,e.id=un(),t.title=Zt.buildTitle(e.title,t,st.fn.options.title),t.content=new Wt,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:ti},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.disableDiscovery(),t.content.children=[]},reflow:function(e){var t=this;ln(t.children)===t.content&&t.children.pop(),Yt.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,n=M.fn.getViewElements.call(t,e),i=e.createGroup({id:t.options.id}),o=[];return i.children=n.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[i]),o},renderGridLines:function(e){var t,n,i,o,a,r,s=this,l=s.axes,c=l.concat(s.parent.axes),h=[],u=[];for(n=0;l.length>n;n++)for(o=l[n],a=o.options.vertical,t=a?h:u,i=0;c.length>i;i++)0===t.length&&(r=c[i],a!==r.options.vertical&&tn(t,o.renderGridLines(e,r,o)));return h.concat(u)},refresh:function(){var e=this,t=e.view,n=document.getElementById(e.options.id);t&&n&&n.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),n)}}),lt=Wt.extend({init:function(e,t){var n=this;Wt.fn.init.call(n,t),n.series=e,n.charts=[],n.options.legend.items=[],n.axes=[],n.options.id=un(),n.enableDiscovery(),n.createPanes(),n.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:bn,width:0},legend:{}},createPanes:function(){var e,t,n=this,i=[],o=n.options.panes||[],a=Pt.max(o.length,1);for(e=0;a>e;e++)t=new st(o[e]),t.paneIndex=e,i.push(t),n.append(t);n.panes=i},findPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){n=o[t];break}return n||o[0]},findPointPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){n=o[t];break}return n},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,n,i=this,o=[];for(t=0;i.axes.length>t;t++)n=i.axes[t],e!==n&&o.push(n);i.axes=o},appendChart:function(e,t){var n=this;n.charts.push(e),n.addToLegend(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t,n,i=this,o=[];for(t=0;i.charts.length>t;t++)n=i.charts[t],n!==e&&o.push(n);i.charts=o},addToLegend:function(e){var t,n,i,o,a=e.options.series,r=a.length,s=[],l=this.options.legend.labels||{};if(e.legendItems)s=e.legendItems;else for(t=0;r>t;t++)n=a[t],n.visibleInLegend!==!1&&(i=n.name||"",l.template&&(o=Et(l.template),i=o({text:i,series:n})),s.push({name:i,color:n.color}));tn(this.options.legend.items,s)},groupAxes:function(e){var t,n,i,o,a=[],r=[];for(i=0;e.length>i;i++)for(t=e[i].axes,o=0;t.length>o;o++)n=t[o],n.options.vertical?r.push(n):a.push(n);return{x:a,y:r,any:a.concat(r)}},groupSeriesByPane:function(){var e,t,n,i=this,o=i.series,a={};for(e=0;o.length>e;e++)n=o[e],t=i.seriesPaneName(n),a[t]?a[t].push(n):a[t]=[n];return a},filterSeriesByType:function(e,t){var n,i,o=[];for(t=[].concat(t),n=0;e.length>n;n++)i=e[n],rn(i.type,t)&&o.push(i);return o},reflow:function(e){var t=this,n=t.options.plotArea,i=t.panes,o=an(n.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i)},redraw:function(e){var t,n=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var n,i=e.options,o=[].concat(i.axisCrossingValues||i.axisCrossingValue),a=t.length-o.length,r=o[0]||0;for(n=0;a>n;n++)o.push(r);return o},alignAxisTo:function(e,t,n,i){var o=e.getSlot(n,n),a=e.options.reverse?2:1,r=t.getSlot(i,i),s=t.options.reverse?2:1,l=e.box.translate(r[Gi+s]-o[Gi+a],r[qi+s]-o[qi+a]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var n,i,o,a,r=this,s=e[0],l=t[0],c=r.axisCrossingValues(s,t),h=r.axisCrossingValues(l,e),u={},d={},p={},g={};for(a=0;t.length>a;a++)o=t[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,s,h[a],c[a]),o.options._overlap||(cn(o.lineBox().x1)===cn(s.lineBox().x1)&&(u[i]&&o.reflow(o.box.alignTo(u[i].box,ti).translate(-o.options.margin,0)),u[i]=o),cn(o.lineBox().x2)===cn(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,s,h[a],c[a]),d[i]&&o.reflow(o.box.alignTo(d[i].box,vi).translate(o.options.margin,0)),d[i]=o),0!==a&&l.pane===o.pane&&o.alignTo(l));for(a=0;e.length>a;a++)o=e[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,l,c[a],h[a]),o.options._overlap||(cn(o.lineBox().y1)===cn(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,l,c[a],h[a]),p[i]&&o.reflow(o.box.alignTo(p[i].box,zi).translate(0,-o.options.margin)),p[i]=o),cn(o.lineBox().y2,Bn)===cn(l.lineBox().y2,Bn)&&(g[i]&&o.reflow(o.box.alignTo(g[i].box,An).translate(0,o.options.margin)),g[i]=o),0!==a&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,n,i,o=this,a=o.groupAxes(e).any,r=B(a),s=0;for(t=0;e.length>t;t++)n=e[t],n.axes.length>0&&(s=Pt.max(s,r.width()-n.contentBox.width()));for(t=0;a.length>t;t++)i=a[t],i.options.vertical||i.reflow(i.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,n,i,o,a,r;for(t=0;e.length>t;t++)for(n=e[t],i=n.axes,o=Pt.max(0,B(i).height()-n.contentBox.height()),a=0;i.length>a;a++)r=i[a],r.options.vertical&&r.reflow(r.box.shrink(0,o))},fitAxes:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.groupAxes(e).any,u=0;for(s=0;e.length>s;s++)if(a=e[s],t=a.axes,n=a.contentBox,t.length>0)for(i=B(t),u=Pt.max(u,n.x1-i.x1),o=Pt.max(n.y1-i.y1,n.y2-i.y2),l=0;t.length>l;l++)r=t[l],r.reflow(r.box.translate(0,o));for(s=0;h.length>s;s++)r=h[s],r.reflow(r.box.translate(u,0))},reflowAxes:function(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.length>t;t++)n.reflowPaneAxes(e[t]);i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.fitAxes(e))},reflowPaneAxes:function(e){var t,n=e.axes,i=n.length;if(i>0)for(t=0;i>t;t++)n[t].reflow(e.contentBox)},reflowCharts:function(e){var t,n,i=this,o=i.charts,a=o.length,r=i.box;for(n=0;a>n;n++)t=o[n].pane,(!t||rn(t,e))&&o[n].reflow(r)},reflowPanes:function(){var e,t,n,i,o,a=this,r=a.box,s=a.panes,l=s.length,c=r.height(),h=l,u=0,d=r.y1;for(e=0;l>e;e++)t=s[e],i=t.options.height,t.options.width=r.width(),t.options.height?(i.indexOf&&i.indexOf("%")&&(o=parseInt(i,10)/100,t.options.height=o*r.height()),t.reflow(r.clone()),c-=t.options.height):u++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/u);for(e=0;l>e;e++)t=s[e],n=r.clone().move(r.x1,d),t.reflow(n),h--,d+=t.options.height},backgroundBox:function(){var e,t,n,i,o,a,r=this,s=r.axes,l=s.length;for(n=0;l>n;n++)for(o=s[n],i=0;l>i;i++)a=s[i],o.options.vertical!==a.options.vertical&&(e=o.lineBox().clone().wrap(a.lineBox()),t=t?t.wrap(e):e);
return t||r.box},getViewElements:function(e){var t=this,n=t.backgroundBox(),i=t.options,o=i.plotArea,a=o.border||{},r=Wt.fn.getViewElements.call(t,e);return tn(r,[e.createRect(n,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(n,{id:i.id,data:{modelId:i.modelId},stroke:a.width?a.color:"",strokeWidth:a.width,fill:ji,fillOpacity:0,zIndex:-1,dashType:a.dashType})]),r}}),ct=lt.extend({init:function(e,t){var n=this;n.namedCategoryAxes={},n.namedValueAxes={},n.valueAxisRangeTracker=new ht,e.length>0&&(n.invertAxes=rn(e[0].type,[vn,Wi,Yi])),lt.fn.init.call(n,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;lt.fn.removeAxis.call(t,e),e instanceof so?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createAreaChart(o.filterSeriesByType(i,[gn,Yi]),n),o.createBarChart(o.filterSeriesByType(i,[Vn,vn]),n),o.createLineChart(o.filterSeriesByType(i,[ni,Wi]),n),o.createCandlestickChart(o.filterSeriesByType(i,_n),n),o.createOHLCChart(o.filterSeriesByType(i,di),n))},aggregateDateSeries:function(e){var t,i,o,a,r,s,l,c,h,u,d,p,g,f,x,m,v=this,y=v.srcSeries||v.series,w=[];for(l=0;y.length>l;l++){if(c=y[l],h=zt({},c),t=v.seriesCategoryAxis(c),i=v.findPane(t.options.pane),rn(i,e)&&R(t.options.type,En))for(o=t.options.categories,a=t.categoryMap,u=h.data,h.data=d=[],r=0;o.length>r;r++){for(s=a[r],p=[],g=0;s.length>g;g++)f=s[g],x=P(c,f),m=x.value,on(m)&&p.push(x.value);d[r]=p.length>1?n(p,c):u[s[0]]}w.push(h)}v.srcSeries=y,v.series=w},appendChart:function(e,t){for(var n=this,i=e.options.series,o=n.seriesCategoryAxis(i[0]),a=o.options.categories,r=Pt.max(0,p(i)-a.length);r--;)a.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),lt.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,i=n.options,o=t.axis,a=[].concat(i.valueAxis),r=e.grep(a,function(e){return e.name===o})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(r||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,i=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i},createBarChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new N(n,{series:e,invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,gap:i.gap,spacing:i.spacing});n.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new G(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new K(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new nt(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new et(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},axisRequiresRounding:function(e,t){var n,i,o=this,a=o.filterSeriesByType(o.series,[vn,Vn,di,_n]);for(n=0;a.length>n;n++)if(i=a[n].categoryAxis||"",i===e||!i&&0===t)return!0},createCategoryAxes:function(e){var t,n,i,o,a,r,s,l,c,h=this,u=h.invertAxes,d=[].concat(h.options.categoryAxis),p=[];for(t=0;d.length>t;t++)if(n=d[t],i=h.findPane(n.pane),rn(i,e)){if(r=n.name,o=n.categories||[],s=o[0]instanceof Date,a=n.type||"",n=zt({vertical:u,axisCrossingValue:u?o.length:0},n),h.axisRequiresRounding(r,t)&&(n.justified=!1,n.roundToBaseUnit=!0),l=!a&&s||R(a,En)?new co(n):new so(n),r){if(h.namedCategoryAxes[r])throw Error("Category axis with name "+r+" is already defined");h.namedCategoryAxes[r]=l}l.axisIndex=t,p.push(l),h.appendAxis(l)}c=h.categoryAxis||p[0],h.categoryAxis=c,u?h.axisY=c:h.axisX=c},createValueAxes:function(e){var t,n,i,o,a,r,s,l=this,c=l.valueAxisRangeTracker,h=c.query(),u=[].concat(l.options.valueAxis),d=l.invertAxes,p={vertical:!d},g=[];for(s=0;u.length>s;s++)if(t=u[s],n=l.findPane(t.pane),rn(n,e)){if(r=t.name,a=c.query(r),0===s&&h&&(a.min=Pt.min(a.min,h.min),a.max=Pt.max(a.max,h.max)),i=new Gt(a.min,a.max,zt({},p,t)),r){if(l.namedValueAxes[r])throw Error("Value axis with name "+r+" is already defined");l.namedValueAxes[r]=i}g.push(i),l.appendAxis(i)}o=l.valueAxis||g[0],l.valueAxis=o,d?l.axisX=o:l.axisY=o},click:function(t,n){var i,o,a,r=this,s=t._eventCoordinates(n),l=new qt(s.x,s.y),c=r.pointPane(l),h=[],u=[];if(c){for(i=c.axes,o=0;i.length>o;o++)a=i[o],a.getValue?z(u,a.getValue(l)):z(h,a.getCategory(l));0===h.length&&z(h,r.categoryAxis.getCategory(l)),h.length>0&&u.length>0&&t.trigger(mi,{element:e(n.target),category:D(h),value:D(u)})}},pointPane:function(e){var t,n,i=this,o=i.panes;for(n=0;o.length>n;n++)if(t=o[n],t.contentBox.containsPoint(e))return t}}),ht=Vt.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,n,i,o=this,a=o.axisRanges;for(i in e)t=a[i],n=e[i],a[i]=t=t||{min:oi,max:ai},t.min=Pt.min(t.min,n.min),t.max=Pt.max(t.max,n.max)},reset:function(e){delete this.axisRanges[e]},query:function(e){var t=this;return t.axisRanges[e]||{min:0,max:1}}}),ut=lt.extend({init:function(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new ht,n.yAxisRangeTracker=new ht,lt.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(e=e||o.panes,t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createScatterChart(o.filterSeriesByType(i,bi),n),o.createScatterLineChart(o.filterSeriesByType(i,Ai),n),o.createBubbleChart(o.filterSeriesByType(i,kn),n));o.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),lt.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;lt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var n=this,i=n.options,o=t.xAxis,a=[].concat(i.xAxis),r=e.grep(a,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s})[0],h=i.panes||[{}],u=h[0].name||"default",d=(r||{}).pane||(c||{}).pane||u;return d},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Q(n,{series:e}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new $(n,{series:e}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new J(n,{series:e}),t)},createXYAxis:function(e,t,n){var i,o,a,r,s,l=this,c=e.name,h=t?l.namedYAxes:l.namedXAxes,u=t?l.yAxisRangeTracker:l.xAxisRangeTracker,d=u.query(c),p=u.query(),g=zt({},e,{vertical:t}),f=l.series;for(o=0;f.length>o;o++)if(a=f[o],a[t?"yAxis":"xAxis"]==g.name){r=P(a,0).value,s=r[t?"y":"x"]instanceof Date;break}if(0===n&&p&&(d.min=Pt.min(d.min,p.min),d.max=Pt.max(d.max,p.max)),i=R(g.type,En)||!g.type&&s?new ho(d.min,d.max,g):new Gt(d.min,d.max,g),c){if(h[c])throw Error((t?"Y":"X")+" axis with name "+c+" is already defined");h[c]=i}return l.appendAxis(i),i},createAxes:function(e){var t,n=this,i=n.options,o=[].concat(i.xAxis),a=[],r=[].concat(i.yAxis),s=[];kt(o,function(i){t=n.findPane(this.pane),rn(t,e)&&a.push(n.createXYAxis(this,!1,i))}),kt(r,function(i){t=n.findPane(this.pane),rn(t,e)&&s.push(n.createXYAxis(this,!0,i))}),n.axisX=n.axisX||a[0],n.axisY=n.axisY||s[0]},click:function(t,n){var i,o,a,r,s=this,l=t._eventCoordinates(n),c=new qt(l.x,l.y),h=s.axes,u=h.length,d=[],p=[];for(i=0;u>i;i++)o=h[i],r=o.options.vertical?p:d,a=o.getValue(c),null!==a&&r.push(a);d.length>0&&p.length>0&&t.trigger(mi,{element:e(n.target),x:D(d),y:D(p)})}}),dt=lt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],i=new ot(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),pt=dt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],i=new rt(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),gt=jt.extend({options:{easing:"easeOutElastic",duration:$n},setup:function(){var e,t=this.element,n=t.config;t.options.singleSegment&&(n=t),this.endRadius=n.r,e=this.startRadius=n.ir||0,n.r=e},step:function(e){var t=this,n=t.element,i=t.endRadius,o=n.config,a=t.startRadius;n.options.singleSegment&&(o=n),o.r=sn(a,i,e)}}),ft=jt.extend({options:{easing:"easeOutElastic",duration:$n},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,n=t.endRadius;t.radius=sn(0,n,e)}}),xt=en(vn,Nt),mt=en(fi,gt),vt=en(kn,ft),yt=Vt.extend({init:function(e,t,n){var i=this;i.options=zt({},i.options,n),i.view=e,i.viewElement=t},options:{fill:ji,fillOpacity:.2,stroke:ji,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,n,i=this,o=i.view,a=i.viewElement;i.hide(),e.highlightOverlay&&(t=e.highlightOverlay(o,i.options),t&&(n=o.renderElement(t),a.appendChild(n),i.overlayElement=n,i.visible=!0)),e.toggleHighlight&&(e.toggleHighlight(o),i.point=e,i.visible=!0)},hide:function(){var e=this,t=e.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.overlayElement),e.point&&(e.point.toggleHighlight(e.view),delete e.point),e.visible=!1}}),wt=Vt.extend({init:function(t,n){var i=this;i.options=zt({},i.options,n),n=i.options,i.chartElement=t,i.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},i.template=wt.template,i.template||(i.template=wt.template=hn("<div class='"+Rn+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),i.element=e(i.template(i.options)).appendTo(t)},options:{background:bn,color:ji,border:{width:3},opacity:1,animation:{duration:Oi}},show:function(e){var t=this;t.point=e,t.showTimeout=setTimeout(Tt(t._show,t),Hi)},_show:function(){var e,t,n,i,o,a,r=this,s=r.point,l=r.element,c=r.options,h=r.chartPadding;s&&(n=""+s.value,i=zt({},r.options,s.options.tooltip),i.template?(t=Et(i.template),n=t({value:s.value,category:s.category,series:s.series,dataItem:s.dataItem,percentage:s.percentage})):i.format&&(n=s.formatValue(i.format)),l.html(n),e=s.tooltipAnchor(l.outerWidth(),l.outerHeight()),o=cn(e.y+h.top)+"px",a=cn(e.x+h.left)+"px",r.visible||r.element.css({top:o,left:a}),r.element.css({backgroundColor:i.background,borderColor:i.border.color||s.options.color,font:i.font,color:i.color,opacity:i.opacity,borderWidth:i.border.width}).stop(!0,!0).show().animate({left:a,top:o},c.animation.duration),r.visible=!0)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e.element.fadeOut(),e.point=null,e.visible=!1)}}),bt={max:function(e){var t=Pt.max.apply(Pt,e);return isNaN(t)?o(e):t},min:function(e){var t=Pt.min.apply(Pt,e);return isNaN(t)?i(e):t},sum:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t],on(n)&&!isNaN(n)&&(o+=n);return o},count:function(e){return e.length},avg:function(e){return bt.sum(e)/bt.count(e)}},At=Bt.extend({init:function(t,n,i){var o,a,r=this,s=t.element,l=n.lineBox(),c=r.getValueAxis(n),h=c.lineBox(),u="."+Rn;Bt.fn.init.call(r),r.options=zt({},r.options,i),i=r.options,r.chart=t,r.chartElement=s,r.categoryAxis=n,r.valueAxis=c,r.template=At.template,r.template||(r.template=At.template=hn("<div class='"+Rn+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+Rn+"mask'></div>"+"<div class='"+Rn+"mask'></div>"+"<div class='"+Rn+"selection'>"+"<div class='"+Rn+"handle "+Rn+"leftHandle'><div></div></div>"+"<div class='"+Rn+"handle "+Rn+"rightHandle'><div></div></div>"+"</div></div>")),a={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},r.options=zt({},{width:l.width(),height:h.height(),padding:a,offset:{left:h.x2+a.left,top:h.y1+a.right},from:i.min,to:i.max},i),r.options.visible&&(r.wrapper=o=e(r.template(r.options)).appendTo(s),r.selection=o.find(u+"selection"),r.leftMask=o.find(u+"mask").first(),r.rightMask=o.find(u+"mask").last(),r.leftHandle=o.find(u+"leftHandle"),r.rightHandle=o.find(u+"rightHandle"),r.options.selection={border:{left:parseFloat(r.selection.css("border-left-width"),10),right:parseFloat(r.selection.css("border-right-width"),10)}},r.leftHandle.css("top",(r.selection.height()-r.leftHandle.height())/2),r.rightHandle.css("top",(r.selection.height()-r.rightHandle.height())/2),r.move(i.from,i.to),r.bind(r.events,r.options),r.wrapper[0].style.cssText=r.wrapper[0].style.cssText,Dt.UserEvents?r.userEvents=new Dt.UserEvents(r.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:Tt(r._start,r),move:Tt(r._move,r),end:Tt(r._end,r),tap:Tt(r._tap,r),gesturestart:Tt(r._gesturechange,r),gesturechange:Tt(r._gesturechange,r)}):r.leftHandle.add(r.rightHandle).removeClass(Rn+"handle"))},events:[ki,_i,Ci],options:{min:ai,max:oi},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_start:function(t){var n=this,i=n.options,o=e(t.event.target);!n._state&&o&&(n.chart._unsetActivePoint(),n._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:t.x.location,range:{from:i.from,to:i.to}},n.trigger(ki,n._state.range)&&(n.userEvents.cancel(),n._state=null))},_move:function(e){if(this._state){var t=this,n=t._state,i=t.options,o=i.max-i.min,a=n.startLocation-e.x.location,r=n.range,s=r.to-r.from,l=n.moveTarget,c=t.wrapper.width()/o,h=Pt.round(a/c);l&&(e.preventDefault(),l.is(".k-selection")?(r.from=Pt.min(Pt.max(i.min,i.from-h),i.max-s),r.to=Pt.min(r.from+s,i.max)):l.is(".k-leftHandle")?(r.from=Pt.min(Pt.max(i.min,i.from-h),i.max-1),r.to=Pt.max(r.from+1,r.to)):l.is(".k-rightHandle")&&(r.to=Pt.min(Pt.max(i.min+1,i.to-h),i.max),r.from=Pt.min(r.to-1,r.from)),t.move(r.from,r.to),t.trigger(_i,r))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(Ci,t)},_gesturechange:function(e){if(this._state){var t=this,n=t.chart,i=t._state,o=t.options,a=t.categoryAxis,r=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=Pt.min(s,l),h=Pt.max(s,l);e.preventDefault(),i.moveTarget=null,r.from=a.getCategoryIndex(new Ut.Point2D(c))||o.min,r.to=a.getCategoryIndex(new Ut.Point2D(h))||o.max,t.move(r.from,r.to)}},_tap:function(e){var t,n,i=this,o=i.options,a=i.chart._eventCoordinates(e),r=i.categoryAxis,s=r.getCategoryIndex(new Ut.Point2D(a.x,r.box.y1)),l=o.to-o.from,c=o.from+l/2,h=Pt.round(c-s);i._state||(e.preventDefault(),i.chart._unsetActivePoint(),t=Pt.min(Pt.max(o.min,o.from-h),o.max-l),n=Pt.min(t+l,o.max),i.set(t,n),i.trigger(Ci))},move:function(e,t){var n,i,o,a,r=this,s=r.options,l=s.offset,c=s.padding,h=s.selection.border,u=r.categoryAxis;o=u.getSlot(e),n=cn(o.x1-l.left+c.left),r.leftMask.width(n),r.selection.css("left",n),o=u.getSlot(t),i=cn(s.width-(o.x1-l.left+c.left)),r.rightMask.width(i),a=s.width-i,a!=s.width&&(a+=h.right),r.rightMask.css("left",a),r.selection.width(Pt.max(s.width-(n+i)-h.right,0))},set:function(e,t){var n=this,i=n.options;e=V(e,i.min,i.max),t=V(t,e+1,i.max),i.visible&&n.move(e,t),i.from=e,i.to=t},expandLeft:function(e){var t=this,n=t.options;t.set(Pt.min(n.from-e,n.to-1),n.to)},getValueAxis:function(e){var t,n,i=e.pane.axes,o=i.length;for(t=0;o>t;t++)if(n=i[t],n.options.vertical!==e.options.vertical)return n}}),St(e.easing,{easeOutElastic:function(e,t,n,i){var o=1.70158,a=0,r=i;return 0===e?n:1===e?n+i:(a||(a=.5),Pt.abs(i)>r?(r=i,o=a/4):o=a/(2*Pt.PI)*Pt.asin(i/r),r*Pt.pow(2,-10*e)*Pt.sin((1*e-o)*1.1*Pt.PI/a)+i+n)}}),f.cache={},Ut.ui.plugin(oo),zt(Ut,{Aggregates:bt,AreaChart:K,Bar:fo,BarAnimationDecorator:xt,BarChart:N,BarLabel:ao,BubbleAnimationDecorator:vt,BubbleChart:J,CandlestickChart:et,Candlestick:Z,CategoricalPlotArea:ct,CategoryAxis:so,ClusterLayout:uo,DateCategoryAxis:co,DateValueAxis:ho,DonutChart:rt,DonutPlotArea:pt,DonutSegment:at,Highlight:yt,Legend:ro,LineChart:G,LinePoint:Y,Pane:st,PieAnimation:gt,PieAnimationDecorator:mt,PieChart:ot,PiePlotArea:dt,PieSegment:it,ScatterChart:Q,ScatterLineChart:$,Selection:At,ShapeElement:F,StackLayout:po,Tooltip:wt,OHLCChart:nt,OHLCPoint:tt,XYPlotArea:ut,addDuration:v,axisGroupBox:B,validNumbers:U,bindPoint:P,categoriesCount:p,ceilDate:b,duration:_,floorDate:w,lteDateIndex:O,sparseArrayLimits:a,toDate:x,toTime:m})})(window.kendo.jQuery)});